## 什么是kubernetes

kubernetes简称k8s。是用于自动`部署`，`扩展`和`管理`容器化应用程序`集群`的开源系统。

- 中文官网：https://kubernetes.io/Zh/
- 中文社区：https://www.kubernetes.org.cn/
- 官方文档：https://kubernetes.io/zh/docs/home/
- 社区文档：https://docs.kubernetes.org.cn/

### 部署方式的进化

![image-20201007232710077](E:\GitHub\ready-interview\md\upload\image-20201007232710077.png)

- 传统部署方式：搭建环境、资源分配问题（边界）。
- 虚拟化部署技术：虚拟化技术、虚拟机资源隔离、虚拟机镜像打包部署
  - 资源浪费：每个 VM 是一台完整的计算机，在虚拟化硬件之上运行所有组件，包括其自己的操作系统。
- 容器部署时代（**Docker提供运行时容器环境**）：轻量化隔离、共享OS
  - 容器与 VM 类似，**具有自己的文件系统、CPU、内存、进程空间**等。由于它们与基础架构分离，因此可以跨云和 OS 分发进行移植。
  - 创建、启动、效率高
  - 以应用程序为中心的管理：提高抽象级别，从在虚拟硬件上运行 OS 到使用逻辑资源在 OS 上运行应用程序。
  - 松散耦合、分布式、弹性、解放的微服务：应用程序被分解成较小的独立部分，并且可以动态部署和管理 - 而不是在一台大型单机上整体运行。

### 为什么使用kubernetes

管理服务器集群，使得服务系统更易于使用且功能更强大、健壮、弹性和可扩展性。

Kubernetes 为您提供：**调度、自动修复、水平伸缩**

- **服务发现和负载均衡（比微服务的更广泛，跨语言）**
  Kubernetes 可以使用 DNS 名称或自己的 IP 地址公开容器，如果到容器的流量很大，Kubernetes 可以负载均衡并分配网络流量，从而使部署稳定。

- **存储编排**
  Kubernetes **允许您自动挂载您选择的存储系统**，例如本地存储、公共云提供商等。

- **自动部署和回滚**
  您可以使用 Kubernetes 描述已部署容器的所需状态，它可以以受控的速率将实际状态更改为所需状态。例如，您可以自动化 Kubernetes 来为您的部署创建新容器，删除现有容器并将它们的所有资源用于新容器。

- **自动二进制打包**
  Kubernetes 允许您指定每个容器所需 CPU 和内存（RAM）。当容器指定了资源请求时，Kubernetes 可以做出更好的决策来管理容器的资源。

- **自我修复**
  Kubernetes 重新启动失败的容器、替换容器、杀死不响应用户定义的运行状况检查的容器，并且在准备好服务之前不将其通告给客户端。

- **密钥与配置管理**
  Kubernetes 允许您存储和管理敏感信息，例如密码、OAuth 令牌和 ssh 密钥。您可以在不重建容器镜像的情况下部署和更新密钥和应用程序配置，也无需在堆栈配置中暴露密钥。

## kubernetes组件

### 架构图

![image-20201008000602911](E:\GitHub\ready-interview\md\upload\image-20201008000602911.png)

### Master组件

